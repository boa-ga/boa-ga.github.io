{"version":3,"sources":["./src/app/games/game-test/game-test.component.ts","./src/app/games/game-test/game-test.component.html","./src/app/games/game-test/game-test.module.ts","./src/app/games/game-test/game-test.routes.ts","./src/app/games/game-test/game-test.service.ts","./src/app/games/game-test/test-board/test-board.component.ts","./src/app/games/game-test/test-board/test-board.component.html","./src/app/games/game-test/test-players/test-players.component.ts","./src/app/games/game-test/test-players/test-players.component.html"],"names":[],"mappings":"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","file":"game-test-game-test-module-es2015.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ChatSendMessageAction, LeaveGameAction } from '@boa-ga/api-interfaces';\nimport { Subject } from 'rxjs';\nimport { switchMap, takeUntil, tap } from 'rxjs/operators';\n\nimport { SocketService } from '../../services/socket.service';\nimport { UserSettingsService } from '../../services/user-settings.service';\nimport { ChatService } from '../../shared/chat/chat.service';\nimport { GameTestService } from './game-test.service';\n\n@Component({\n  selector: 'bg-game-test',\n  templateUrl: './game-test.component.html',\n  styleUrls: ['./game-test.component.scss'],\n  providers: [ChatService],\n})\nexport class GameTestComponent implements OnInit, OnDestroy {\n  gameId: string;\n\n  private tearDown$ = new Subject();\n\n  constructor(\n    private route: ActivatedRoute,\n    private socketService: SocketService,\n    private gameTestService: GameTestService,\n    private chatService: ChatService,\n    private userSettingsService: UserSettingsService,\n  ) {}\n\n  ngOnInit() {\n    this.route.params\n      .pipe(\n        tap((params) => (this.gameId = params.gameId)),\n        switchMap(() => this.gameTestService.joinGame(this.gameId)),\n        takeUntil(this.tearDown$),\n      )\n      .subscribe();\n\n    this.userSettingsService.userSettings$\n      .pipe(takeUntil(this.tearDown$))\n      .subscribe((settings) => (this.chatService.myName = settings.name));\n\n    this.socketService\n      .listen(ChatSendMessageAction)\n      .pipe(takeUntil(this.tearDown$))\n      .subscribe((action) =>\n        this.chatService.sendMessage(action.payload.from, action.payload.text),\n      );\n\n    this.chatService.myMessages$\n      .pipe(takeUntil(this.tearDown$))\n      .subscribe((text) => {\n        const sendMessageAction = new ChatSendMessageAction({\n          gameId: this.gameId,\n          from: this.chatService.myName,\n          text,\n        });\n\n        this.socketService.emit(sendMessageAction);\n      });\n  }\n\n  ngOnDestroy() {\n    if (this.gameId) {\n      this.socketService.emit(new LeaveGameAction(this.gameId));\n    }\n\n    this.tearDown$.next();\n    this.tearDown$.complete();\n  }\n}\n","<bg-test-players fxFlex=\"250px\"></bg-test-players>\n<div fxFlex fxLayout=\"column\">\n  <bg-test-board fxFlex></bg-test-board>\n  <bg-chat fxFlex=\"0 0 300px\"></bg-chat>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { ChatModule } from '../../shared/chat/chat.module';\nimport { SharedUIModule } from '../../shared/shared-ui.module';\nimport { GameTestComponent } from './game-test.component';\nimport { gameTestRoutes } from './game-test.routes';\nimport { GameTestService } from './game-test.service';\nimport { TestBoardComponent } from './test-board/test-board.component';\nimport { TestPlayersComponent } from './test-players/test-players.component';\n\n@NgModule({\n  imports: [RouterModule.forChild(gameTestRoutes), SharedUIModule, ChatModule],\n  declarations: [GameTestComponent, TestPlayersComponent, TestBoardComponent],\n  providers: [GameTestService],\n  exports: [GameTestComponent],\n})\nexport class GameTestModule {}\n","import { Routes } from '@angular/router';\n\nimport { GameTestComponent } from './game-test.component';\n\nexport const gameTestRoutes: Routes = [\n  {\n    path: ':gameId',\n    component: GameTestComponent,\n  },\n];\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { ConfigurationService } from '../../services/configuration.service';\n\n@Injectable()\nexport class GameTestService {\n  private apiBaseUrl = `${this.configurationService.configuration.apiUrl}games/test`;\n\n  constructor(\n    private httpClient: HttpClient,\n    private configurationService: ConfigurationService,\n  ) {}\n\n  joinGame(gameId: string): Observable<void> {\n    return this.httpClient.post<void>(\n      `${this.apiBaseUrl}/${gameId}/users`,\n      null,\n    );\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'bg-test-board',\n  templateUrl: './test-board.component.html',\n  styleUrls: ['./test-board.component.scss'],\n})\nexport class TestBoardComponent {}\n","Board\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'bg-test-players',\n  templateUrl: './test-players.component.html',\n  styleUrls: ['./test-players.component.scss'],\n})\nexport class TestPlayersComponent {}\n","Players\n"],"sourceRoot":"webpack:///"}