function _defineProperties(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,a,e){return a&&_defineProperties(t.prototype,a),e&&_defineProperties(t,e),t}function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{LW9I:function(t,a,e){var r={"./en.json":["Jnu8",8],"./ru.json":["TCAd",9],"./ua.json":["fs5/",10]};function n(t){if(!e.o(r,t))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=r[t],n=a[0];return e.e(a[1]).then((function(){return e.t(n,3)}))}n.keys=function(){return Object.keys(r)},n.id="LW9I",t.exports=n},dqiB:function(t,a,e){"use strict";e.r(a),e.d(a,"GameMunchkinModule",(function(){return rt}));var r,n,i,c,o,s,d,m,l=e("2kYt"),u=e("5lCh"),h=e("mFH5"),p=e("EM62"),b=["*",[["mat-card-footer"]]],f=["*","mat-card-footer"],g=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],y=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],v=((d=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||d)},d.\u0275dir=p.Jb({type:d,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),d),x=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275dir=p.Jb({type:s,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),s),C=((o=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275dir=p.Jb({type:o,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),o),k=((c=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||c)},c.\u0275dir=p.Jb({type:c,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),c),w=((i=function t(a){_classCallCheck(this,t),this._animationMode=a}).\u0275fac=function(t){return new(t||i)(p.Ob(u.a,8))},i.\u0275cmp=p.Ib({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,a){2&t&&p.Fb("_mat-animation-noopable","NoopAnimations"===a._animationMode)},exportAs:["matCard"],ngContentSelectors:f,decls:2,vars:0,template:function(t,a){1&t&&(p.kc(b),p.jc(0),p.jc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i),_=((n=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Ib({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:y,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,a){1&t&&(p.kc(g),p.jc(0),p.Ub(1,"div",0),p.jc(2,1),p.Tb(),p.jc(3,2))},encapsulation:2,changeDetection:0}),n),I=((r=function t(){_classCallCheck(this,t)}).\u0275mod=p.Mb({type:r}),r.\u0275inj=p.Lb({factory:function(t){return new(t||r)},imports:[[h.f],h.f]}),r),O=e("bFHC"),j=e("nKqi"),U=e("sEIs"),T=e("b5yJ"),S=e("GoAz"),M=e("YtkY"),D=e("2yxt"),P=e("py9/"),A=e("l3rL"),z=e("ZTXN"),F=e("8j5Y"),G=e("TLy2"),L=e("jIqt"),$=e("kuMc"),B=e("bZE4"),J=e("lGQG"),E=e("5U9e"),N=e("JPLv"),Y=e("vobO"),q=((m=function(){function t(a,e){_classCallCheck(this,t),this.httpClient=a,this.configurationService=e,this.apiBaseUrl="".concat(this.configurationService.configuration.apiUrl,"games/munchkin")}return _createClass(t,[{key:"joinGame",value:function(t){return this.httpClient.post("".concat(this.apiBaseUrl,"/").concat(t,"/users"),null)}},{key:"getGameById",value:function(t){return this.httpClient.get("".concat(this.apiBaseUrl,"/").concat(t))}}]),t}()).\u0275fac=function(t){return new(t||m)(p.Yb(Y.b),p.Yb(N.a))},m.\u0275prov=p.Kb({token:m,factory:m.\u0275fac}),m),H=e("0h2g");function W(t,a){1&t&&(p.Ub(0,"mat-card-subtitle"),p.xc(1),p.gc(2,"translate"),p.Tb()),2&t&&(p.Cb(1),p.zc(" ",p.hc(2,1,"Me")," "))}function K(t,a){if(1&t&&(p.Ub(0,"mat-card",1),p.Ub(1,"mat-card-header"),p.Pb(2,"mat-icon",2),p.Ub(3,"mat-card-title",3),p.xc(4),p.Tb(),p.wc(5,W,3,3,"mat-card-subtitle",4),p.Tb(),p.Ub(6,"mat-card-content"),p.Ub(7,"mat-list"),p.Ub(8,"mat-list-item"),p.Ub(9,"span",5),p.xc(10),p.gc(11,"translate"),p.Tb(),p.Ub(12,"span",6),p.xc(13),p.Tb(),p.Tb(),p.Ub(14,"mat-list-item"),p.Ub(15,"span",5),p.xc(16),p.gc(17,"translate"),p.Tb(),p.Ub(18,"span",6),p.xc(19),p.Tb(),p.Tb(),p.Ub(20,"mat-list-item"),p.Ub(21,"span",5),p.xc(22),p.gc(23,"translate"),p.Tb(),p.Ub(24,"span",6),p.xc(25),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&t){var e=a.$implicit,r=p.fc();p.Fb("my-card",e.id===r.myUserId),p.Cb(4),p.zc(" ",e.name," "),p.Cb(1),p.lc("ngIf",e.id===r.myUserId),p.Cb(5),p.zc(" ",p.hc(11,10,"Level")," "),p.Cb(3),p.yc(e.level),p.Cb(3),p.zc(" ",p.hc(17,12,"Cards in hands")," "),p.Cb(3),p.zc(" ",e.cardIdsInHands.length," "),p.Cb(3),p.zc(" ",p.hc(23,14,"Cards on table")," "),p.Cb(3),p.zc(" ",e.cardIdsOnTable.length," ")}}var X,Z,Q,V=((Z=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Z)},Z.\u0275cmp=p.Ib({type:Z,selectors:[["bg-munchkin-players"]],inputs:{players:"players",myUserId:"myUserId"},decls:1,vars:1,consts:[["class","player-card",3,"my-card",4,"ngFor","ngForOf"],[1,"player-card"],["mat-card-avatar","","svgIcon","icon-user",1,"player-card__avatar"],[1,"player-card__title"],[4,"ngIf"],[1,"player-card__property-name"],[1,"player-card__property-value"]],template:function(t,a){1&t&&p.wc(0,K,26,16,"mat-card",0),2&t&&p.lc("ngForOf",a.players)},directives:[l.k,w,_,O.a,k,x,l.l,v,j.a,j.c,C],pipes:[H.a],styles:["[_nghost-%COMP%]{background-color:#e5e5e5}.player-card[_ngcontent-%COMP%]{margin:10px}.player-card__property-name[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0}),Z),R=((X=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||X)},X.\u0275cmp=p.Ib({type:X,selectors:[["bg-munchkin-board"]],decls:1,vars:0,template:function(t,a){1&t&&p.xc(0,"Board\n")},styles:["[_nghost-%COMP%]{background-color:grey}"],changeDetection:0}),X),tt=e("+XlM"),at=[{path:":gameId",component:(Q=function(){function t(a,e,r,n,i){_classCallCheck(this,t),this.route=a,this.socketService=e,this.gameMunchkinService=r,this.chatService=n,this.authService=i,this.tearDown$=new z.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.initGame(),this.initChat()}},{key:"ngOnDestroy",value:function(){this.gameId&&this.socketService.emit(new A.h(this.gameId)),this.tearDown$.next(),this.tearDown$.complete()}},{key:"initGame",value:function(){var t=this;this.route.params.pipe(Object(F.a)((function(a){return t.gameId=a.gameId})),Object(G.a)((function(){return t.gameMunchkinService.joinGame(t.gameId)})),Object(G.a)((function(){return t.socketService.listenAnyOf(A.f,A.g,A.i).pipe(Object(L.a)(-1),Object(G.a)((function(){return t.gameMunchkinService.getGameById(t.gameId)})),Object(F.a)((function(a){return t.game=a})))})),Object($.a)(this.tearDown$)).subscribe()}},{key:"initChat",value:function(){var t=this;this.authService.user$.pipe(Object($.a)(this.tearDown$)).subscribe((function(a){t.myUserId=a.id,t.chatService.myName=a.name})),this.socketService.listen(A.a).pipe(Object($.a)(this.tearDown$)).subscribe((function(a){return t.chatService.sendMessage(a.payload.from,a.payload.text)})),this.chatService.myMessages$.pipe(Object($.a)(this.tearDown$)).subscribe((function(a){var e=new A.a({gameId:t.gameId,from:t.chatService.myName,text:a});t.socketService.emit(e)}))}}]),t}(),Q.\u0275fac=function(t){return new(t||Q)(p.Ob(U.a),p.Ob(E.a),p.Ob(q),p.Ob(B.a),p.Ob(J.a))},Q.\u0275cmp=p.Ib({type:Q,selectors:[["bg-game-munchkin"]],features:[p.Bb([B.a])],decls:4,vars:2,consts:[[3,"players","myUserId"]],template:function(t,a){1&t&&(p.Pb(0,"bg-munchkin-players",0),p.Ub(1,"div"),p.Pb(2,"bg-munchkin-board"),p.Pb(3,"bg-chat"),p.Tb()),2&t&&p.lc("players",a.game&&a.game.players)("myUserId",a.myUserId)},directives:[V,R,tt.a],styles:["[_nghost-%COMP%]{height:calc(100vh - 48px)}"],changeDetection:0}),Q)}];e("xxSF");var et,rt=((et=function t(){_classCallCheck(this,t)}).\u0275mod=p.Mb({type:et}),et.\u0275inj=p.Lb({factory:function(t){return new(t||et)},providers:[q],imports:[[l.c,I,O.b,j.d,U.e.forChild(at),T.c.forChild([{provide:T.b,useFactory:function(){return new P.a((function(t){return Object(S.a)(e("LW9I")("./".concat(t,".json"))).pipe(Object(M.a)((function(t){return t.default})))}))}}]),D.a]]}),et)}}]);