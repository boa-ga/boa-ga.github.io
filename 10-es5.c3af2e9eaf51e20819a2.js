function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{kqdH:function(e,t,n){"use strict";n.r(t),n.d(t,"GameTestModule",(function(){return j}));var s,a,i,c,r,o=n("sEIs"),u=n("RtVY"),l=n("2zyY"),f=n("l3rL"),h=n("ZTXN"),b=n("8j5Y"),p=n("TLy2"),m=n("kuMc"),g=n("5U9e"),v=n("u5fr"),d=n("0hWG"),y=n("JPLv"),w=n("EM62"),C=n("vobO"),k=((a=function(){function e(t,n){_classCallCheck(this,e),this.httpClient=t,this.configurationService=n,this.apiBaseUrl="".concat(this.configurationService.configuration.apiUrl,"games/test")}return _createClass(e,[{key:"joinGame",value:function(e){return this.httpClient.post("".concat(this.apiBaseUrl,"/").concat(e,"/users"),null)}}]),e}()).\u0275fac=function(e){return new(e||a)(w.Yb(C.b),w.Yb(y.a))},a.\u0275prov=w.Kb({token:a,factory:a.\u0275fac}),a),S=((s=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=w.Ib({type:s,selectors:[["bg-test-players"]],decls:1,vars:0,template:function(e,t){1&e&&w.yc(0,"Players\n")},styles:[""]}),s),O=n("qFEQ"),x=((i=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=w.Ib({type:i,selectors:[["bg-test-board"]],decls:1,vars:0,template:function(e,t){1&e&&w.yc(0,"Board\n")},styles:["[_nghost-%COMP%]{background-color:grey}"]}),i),_=n("Et1r"),I=[{path:":gameId",component:(c=function(){function e(t,n,s,a,i){_classCallCheck(this,e),this.route=t,this.socketService=n,this.gameTestService=s,this.chatService=a,this.userSettingsService=i,this.tearDown$=new h.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.pipe(Object(b.a)((function(t){return e.gameId=t.gameId})),Object(p.a)((function(){return e.gameTestService.joinGame(e.gameId)})),Object(m.a)(this.tearDown$)).subscribe(),this.userSettingsService.userSettings$.pipe(Object(m.a)(this.tearDown$)).subscribe((function(t){return e.chatService.myName=t.name})),this.socketService.listen(f.a).pipe(Object(m.a)(this.tearDown$)).subscribe((function(t){return e.chatService.sendMessage(t.payload.from,t.payload.text)})),this.chatService.myMessages$.pipe(Object(m.a)(this.tearDown$)).subscribe((function(t){var n=new f.a({gameId:e.gameId,from:e.chatService.myName,text:t});e.socketService.emit(n)}))}},{key:"ngOnDestroy",value:function(){this.gameId&&this.socketService.emit(new f.h(this.gameId)),this.tearDown$.next(),this.tearDown$.complete()}}]),e}(),c.\u0275fac=function(e){return new(e||c)(w.Ob(o.a),w.Ob(g.a),w.Ob(k),w.Ob(d.a),w.Ob(v.a))},c.\u0275cmp=w.Ib({type:c,selectors:[["bg-game-test"]],features:[w.Bb([d.a])],decls:4,vars:0,consts:[["fxFlex","250px"],["fxFlex","","fxLayout","column"],["fxFlex",""],["fxFlex","0 0 300px"]],template:function(e,t){1&e&&(w.Pb(0,"bg-test-players",0),w.Ub(1,"div",1),w.Pb(2,"bg-test-board",2),w.Pb(3,"bg-chat",3),w.Tb())},directives:[S,O.a,O.c,x,_.a],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px)}"]}),c)}],j=((r=function e(){_classCallCheck(this,e)}).\u0275mod=w.Mb({type:r}),r.\u0275inj=w.Lb({factory:function(e){return new(e||r)},providers:[k],imports:[[o.i.forChild(I),l.a,u.a]]}),r)}}]);